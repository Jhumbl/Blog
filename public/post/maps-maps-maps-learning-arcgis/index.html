<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="referrer" content="no-referrer">
  

  <link rel="icon" type="image/png" href="../../favicon.png">

  <title>
    
    
     Maps, Maps, Maps! Learning ArcGIS 
    
  </title>
  <link rel="canonical" href="../../post/maps-maps-maps-learning-arcgis/">

  <link rel="stylesheet" href="../../css/fonts.css" />
  <link rel="stylesheet" href="../../css/style.css" />

  
</head>

<body>
<section id=nav>
  <h1><a href="../../">Jack&#39;s Random Thoughts</a></h1>
  <ul>
    
    <li><a href="https://jacksblog.netlify.com">Home</a></li>
    
    <li><a href="https://github.com/Jhumbl">GitHub</a></li>
    
    <li><a href="https://www.linkedin.com/in/jack-humble-48b567182/">LinkedIn</a></li>
    
    <li><a href="https://www.kaggle.com/jumble">Kaggle</a></li>
    
    <li><a href="../../pdfs/cv-jack-humble.pdf">CV</a></li>
    
    <li><a href="https://cusplondon.ac.uk">CUSP</a></li>
    
  </ul>
</section>


<section id=content>
  <h1> Maps, Maps, Maps! Learning ArcGIS </h1>

  <div id=sub-header>
    Jack · 2019/03/09 · 6 minute read
  </div>

  <div class="entry-content">
    
<script src="../../rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="../../rmarkdown-libs/bsTable/bootstrapTable.min.css" rel="stylesheet" />


<p>This project aims to answer the question: Where are the best places to live in London? It does this by composite, weight indexing of a number of different variables. Six variables were chosen based on attributes one might look for when buying a property. These six variables are as follows:</p>
<ul>
<li>House Prices<br />
</li>
<li>Air Pollution<br />
</li>
<li>Crime Density<br />
</li>
<li>Population Density<br />
</li>
<li>Hospital Accessibility<br />
</li>
<li>Transport Accessibility</li>
</ul>
<p>Data for all six attributes were collected and visualised in ArcGIS. The following Maps show these variables across London:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-2"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/HousePriceMap.png" alt="Map showing the average house prices for each LSOA" width="100%" />
<p class="caption">
Figure 1: Map showing the average house prices for each LSOA
</p>
</div>
<p><br/><br/> <br/><br/></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-3"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/PollutionMap.png" alt="Concentration of PM&lt;sub&gt;2.5&lt;/sub&gt; per output area" width="100%" />
<p class="caption">
Figure 2: Concentration of PM<sub>2.5</sub> per output area
</p>
</div>
<p><br/><br/> <br/><br/></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-4"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/CombinedImage.png" alt="Left: Locations of crime in london. Right: Point density of crime in london" width="100%" />
<p class="caption">
Figure 3: Left: Locations of crime in london. Right: Point density of crime in london
</p>
</div>
<p><br/><br/> <br/><br/></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-5"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/PopDensMap.png" alt="Population density map per LSOA" width="100%" />
<p class="caption">
Figure 4: Population density map per LSOA
</p>
</div>
<p><br/><br/> <br/><br/></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-6"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/HospCombined.png" alt="Left: Hospital locations. Right: Euclidean distance from hospitals" width="100%" />
<p class="caption">
Figure 5: Left: Hospital locations. Right: Euclidean distance from hospitals
</p>
</div>
<p><br/><br/> <br/><br/></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-7"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/statMaps.png" alt="Left: Location of train stations in london. Right: Euclidean distance from stations" width="100%" />
<p class="caption">
Figure 6: Left: Location of train stations in london. Right: Euclidean distance from stations
</p>
</div>
<p><br/><br/> <br/><br/></p>
<div id="results" class="section level2">
<h2>Results</h2>
<p>Once each of these variables have been processed into raster format, they can be reclassified to assign higher points for desirable attributes and lower points for undesirable attributes. Table 1 shows the reclassification performed for crime density. It can be seen that for low crime rates we assign 9 points and for high crime rates we only assign 1 point. A similar process can be applied to all six variables.</p>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-8">Table 1: </span>The reclassified values for crime
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Old Values
</th>
<th style="text-align:left;font-weight: bold;">
New Values
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
0 - 20.22
</td>
<td style="text-align:left;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
20.22 - 45.04
</td>
<td style="text-align:left;">
8
</td>
</tr>
<tr>
<td style="text-align:left;">
45.04 - 74.45
</td>
<td style="text-align:left;">
7
</td>
</tr>
<tr>
<td style="text-align:left;">
74.45 - 112.30
</td>
<td style="text-align:left;">
6
</td>
</tr>
<tr>
<td style="text-align:left;">
112.30 - 157.80
</td>
<td style="text-align:left;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
157.80 - 211.11
</td>
<td style="text-align:left;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
211.11 - 303.03
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
303.03 - 478.45
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
478.45 - 679.68
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
NoData
</td>
<td style="text-align:left;">
NoData
</td>
</tr>
</tbody>
</table>
<p>Once all six reclassified rasters have been created a raster calculation can be performed to sum all the suitability rasters to find which places in London score the most points. The following equation shows the raster calculation that was performed:</p>
<pre class="r"><code>&quot;crime_suitability&quot; + &quot;price_suitability&quot; + &quot;pollution_suitability&quot; + 
&quot;population_density_suitability&quot; + &quot;hospital_suitability&quot; + 
&quot;station_suitability&quot;</code></pre>
<p>A zonal statistics as table function can then be used to average the scores for each LSOA (smallest statistical boundaries in London). The combined suitability map is shown in Figure 7.</p>
<p><br/><br/></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-11"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/combined_suitability.png" alt="Map of combined suitability across london" width="100%" />
<p class="caption">
Figure 7: Map of combined suitability across london
</p>
</div>
<p>The Following tables show the highest and lowest scoring LSOAs. The names of LSOAs are in the format “E0100XXXX” where X is a numerical integer:</p>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   X1 = col_double(),
##   LSOA11CD = col_character(),
##   LSOA11NM = col_character(),
##   MEAN = col_double()
## )</code></pre>
<pre><code>## Warning: The `printer` argument is deprecated as of rlang 0.3.0.
## This warning is displayed once per session.</code></pre>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-12">Table 2: </span>Highest scoring LSOAs
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Code
</th>
<th style="text-align:left;font-weight: bold;">
Name
</th>
<th style="text-align:right;font-weight: bold;">
Average No. Points
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
E01000688
</td>
<td style="text-align:left;">
Bromley 037E
</td>
<td style="text-align:right;">
51.24
</td>
</tr>
<tr>
<td style="text-align:left;">
E01000254
</td>
<td style="text-align:left;">
Barnet 001D
</td>
<td style="text-align:right;">
50.23
</td>
</tr>
<tr>
<td style="text-align:left;">
E01002476
</td>
<td style="text-align:left;">
Hillingdon 001C
</td>
<td style="text-align:right;">
50.22
</td>
</tr>
<tr>
<td style="text-align:left;">
E01000814
</td>
<td style="text-align:left;">
Bromley 028E
</td>
<td style="text-align:right;">
49.87
</td>
</tr>
<tr>
<td style="text-align:left;">
E01004091
</td>
<td style="text-align:left;">
Sutton 022A
</td>
<td style="text-align:right;">
49.86
</td>
</tr>
<tr>
<td style="text-align:left;">
E01000680
</td>
<td style="text-align:left;">
Bromley 037A
</td>
<td style="text-align:right;">
49.57
</td>
</tr>
<tr>
<td style="text-align:left;">
E01000768
</td>
<td style="text-align:left;">
Bromley 034E
</td>
<td style="text-align:right;">
49.55
</td>
</tr>
<tr>
<td style="text-align:left;">
E01002337
</td>
<td style="text-align:left;">
Havering 012A
</td>
<td style="text-align:right;">
49.48
</td>
</tr>
<tr>
<td style="text-align:left;">
E01000757
</td>
<td style="text-align:left;">
Bromley 031D
</td>
<td style="text-align:right;">
49.37
</td>
</tr>
<tr>
<td style="text-align:left;">
E01000685
</td>
<td style="text-align:left;">
Bromley 037B
</td>
<td style="text-align:right;">
49.23
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-13">Table 3: </span>Lowest scoring LSOAs
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Code
</th>
<th style="text-align:left;font-weight: bold;">
Name
</th>
<th style="text-align:right;font-weight: bold;">
Average No. Points
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
E01033596
</td>
<td style="text-align:left;">
Westminster 013F
</td>
<td style="text-align:right;">
26.00
</td>
</tr>
<tr>
<td style="text-align:left;">
E01004762
</td>
<td style="text-align:left;">
Westminster 011E
</td>
<td style="text-align:right;">
27.10
</td>
</tr>
<tr>
<td style="text-align:left;">
E01004715
</td>
<td style="text-align:left;">
Westminster 013A
</td>
<td style="text-align:right;">
27.13
</td>
</tr>
<tr>
<td style="text-align:left;">
E01002833
</td>
<td style="text-align:left;">
Kensington and Chelsea 007A
</td>
<td style="text-align:right;">
27.25
</td>
</tr>
<tr>
<td style="text-align:left;">
E01004014
</td>
<td style="text-align:left;">
Southwark 019E
</td>
<td style="text-align:right;">
27.35
</td>
</tr>
<tr>
<td style="text-align:left;">
E01003184
</td>
<td style="text-align:left;">
Lambeth 007B
</td>
<td style="text-align:right;">
27.36
</td>
</tr>
<tr>
<td style="text-align:left;">
E01003968
</td>
<td style="text-align:left;">
Southwark 015C
</td>
<td style="text-align:right;">
27.68
</td>
</tr>
<tr>
<td style="text-align:left;">
E01003983
</td>
<td style="text-align:left;">
Southwark 018A
</td>
<td style="text-align:right;">
27.70
</td>
</tr>
<tr>
<td style="text-align:left;">
E01003966
</td>
<td style="text-align:left;">
Southwark 015B
</td>
<td style="text-align:right;">
27.80
</td>
</tr>
<tr>
<td style="text-align:left;">
E01001783
</td>
<td style="text-align:left;">
Hackney 026D
</td>
<td style="text-align:right;">
27.85
</td>
</tr>
</tbody>
</table>
<p>It can be seen that Bromley 037E has the highest number of points while Westminster 013F has the lowest number of points. A similar process can be done however instead of averaging be LSOA we can aggregate to a larger area and average by Borough. The following tables show the highest and lowest scoring Boroughs. These locations are labeled in Figure 8.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-14"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/comb_suit_labelledl.png" alt="Map of combined suitability across london" width="100%" />
<p class="caption">
Figure 8: Map of combined suitability across london
</p>
</div>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   X1 = col_double(),
##   LAD11NM = col_character(),
##   mean = col_double()
## )</code></pre>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-15">Table 4: </span>Highest scoring boroughs
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Borough
</th>
<th style="text-align:right;font-weight: bold;">
Average No. Points
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Kingston upon Thames
</td>
<td style="text-align:right;">
42.76
</td>
</tr>
<tr>
<td style="text-align:left;">
Richmond upon Thames
</td>
<td style="text-align:right;">
42.73
</td>
</tr>
<tr>
<td style="text-align:left;">
Bromley
</td>
<td style="text-align:right;">
42.69
</td>
</tr>
<tr>
<td style="text-align:left;">
Barnet
</td>
<td style="text-align:right;">
41.58
</td>
</tr>
<tr>
<td style="text-align:left;">
Harrow
</td>
<td style="text-align:right;">
41.49
</td>
</tr>
<tr>
<td style="text-align:left;">
Bexley
</td>
<td style="text-align:right;">
40.98
</td>
</tr>
<tr>
<td style="text-align:left;">
Havering
</td>
<td style="text-align:right;">
40.92
</td>
</tr>
<tr>
<td style="text-align:left;">
Sutton
</td>
<td style="text-align:right;">
40.89
</td>
</tr>
<tr>
<td style="text-align:left;">
Merton
</td>
<td style="text-align:right;">
40.02
</td>
</tr>
<tr>
<td style="text-align:left;">
Enfield
</td>
<td style="text-align:right;">
39.97
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-16">Table 5: </span>Lowest scoring boroughs
</caption>
<thead>
<tr>
<th style="text-align:left;font-weight: bold;">
Borough
</th>
<th style="text-align:right;font-weight: bold;">
Average No. Points
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Westminster
</td>
<td style="text-align:right;">
32.37
</td>
</tr>
<tr>
<td style="text-align:left;">
Kensington and Chelsea
</td>
<td style="text-align:right;">
32.48
</td>
</tr>
<tr>
<td style="text-align:left;">
Tower Hamlets
</td>
<td style="text-align:right;">
32.52
</td>
</tr>
<tr>
<td style="text-align:left;">
Islington
</td>
<td style="text-align:right;">
33.32
</td>
</tr>
<tr>
<td style="text-align:left;">
Southwark
</td>
<td style="text-align:right;">
33.83
</td>
</tr>
<tr>
<td style="text-align:left;">
Hackney
</td>
<td style="text-align:right;">
34.18
</td>
</tr>
<tr>
<td style="text-align:left;">
Newham
</td>
<td style="text-align:right;">
34.40
</td>
</tr>
<tr>
<td style="text-align:left;">
Lambeth
</td>
<td style="text-align:right;">
34.51
</td>
</tr>
<tr>
<td style="text-align:left;">
Camden
</td>
<td style="text-align:right;">
34.89
</td>
</tr>
<tr>
<td style="text-align:left;">
Hammersmith and Fulham
</td>
<td style="text-align:right;">
35.66
</td>
</tr>
</tbody>
</table>
<p>It can be seen that while Westminster remains the lowest scoring area of London. Kingston upon Thames is now the highest scoring area. This is an example of the Modifiable Area Unit Problem (MAUP) and occurs when aggregating to different sized areas. These locations are labelled in Figure 9.</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-17"></span>
<img src="../../post/2019-03-09-maps-maps-maps-learning-arcgis_files/Borough_Map.png" alt="Map of suitablity for the london boroughs" width="100%" />
<p class="caption">
Figure 9: Map of suitablity for the london boroughs
</p>
</div>
<p>There are a number of limitations when conducting an analysis of this kind. Consideration needs to be paid to things like the edge effect and the modifiable area unit problem. The source of the data and collections methods must also be fully understood to accurately interpret the results of the analysis. As all the data is taken from reputable sources, a lot of the metadata is there. We can see, for example, that the data for air pollution was taken from 2013. This may affect the results as levels of pollution would have almost certainly changed since then. Although much of the relations will be the same (i.e. the centre being a hotspot). It must also be noted that the number of variables we could include in this analysis is huge. Variables such as culture, employment opportunities, proximity to schools or airports, commercial options, local cuisine and access to green space. The list could go one. Because of this, we may have only captured a small proportion of what makes a neighbourhood a preferable place to live. As well as this, the variables we have included might require a subtler way of measuring it. The hospital data, for example, may not be exactly communicating what we would like to know. A better variable might be the total number of patients per GP in a given area. On top of this, in our premise, we stated that the closer to a hospital or station would be favourable. This, however, may not be the case as we would not like to live directly next to a train station or hospital. Further refinement will need to be made to account for this. Additional information into the type of crimes being committed would also be an additional factor one may wish to know.<br />
Future work could be to allow the user to manually input their preferences and assign more weight to certain variables to give a more tailored output.</p>
</div>

  </div>

  <div id=links>
    
      <a class="basic-alignment left" href="../../post/2015-07-23-r-rmarkdown/">&laquo; Hello Blogdown!</a>
    
    
      <a class="basic-alignment left" href="../../post/loom-art-opencv-d3-js/">Loom Art - Image Processing - OpenCV/D3.js &raquo;</a>
    
  </div>
</section>

<section id="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
      
      
      if (window.location.hostname == "localhost")
                return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = '';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>


  
  


</body>
</html>

